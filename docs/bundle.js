!function r(o,a,i){function u(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return u(o[t][1][e]||e)},n,n.exports,r,o,a,i)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)u(i[e]);return u}({1:[function(e,t,n){n.lab2rgb=function(e){var t=(e[0]+16)/116,n=e[1]/500+t,e=t-e[2]/200,r=-.9689*(n=.95047*(.008856<n*n*n?n*n*n:(n-16/116)/7.787))+1.8758*(t=.008856<t*t*t?t*t*t:(t-16/116)/7.787)+.0415*(e=1.08883*(.008856<e*e*e?e*e*e:(e-16/116)/7.787)),o=.0557*n+-.204*t+1.057*e,n=.0031308<(n=3.2406*n+-1.5372*t+-.4986*e)?1.055*Math.pow(n,1/2.4)-.055:12.92*n;return r=.0031308<r?1.055*Math.pow(r,1/2.4)-.055:12.92*r,o=.0031308<o?1.055*Math.pow(o,1/2.4)-.055:12.92*o,[255*Math.max(0,Math.min(1,n)),255*Math.max(0,Math.min(1,r)),255*Math.max(0,Math.min(1,o))]},n.rgb2lab=function(e){var t=e[0]/255,n=e[1]/255,e=e[2]/255,r=.2126*(t=.04045<t?Math.pow((.055+t)/1.055,2.4):t/12.92)+.7152*(n=.04045<n?Math.pow((.055+n)/1.055,2.4):n/12.92)+.0722*(e=.04045<e?Math.pow((.055+e)/1.055,2.4):e/12.92),o=(.0193*t+.1192*n+.9505*e)/1.08883,t=.008856<(t=(.4124*t+.3576*n+.1805*e)/.95047)?Math.pow(t,1/3):7.787*t+16/116;return[116*(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(.008856<o?Math.pow(o,1/3):7.787*o+16/116))]},n.deltaE=function(e,t){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],e=Math.sqrt(e[1]*e[1]+e[2]*e[2]),t=e-Math.sqrt(t[1]*t[1]+t[2]*t[2]),r=r*r+o*o-t*t,o=n,n=t/(1+.045*e),t=(r<0?0:Math.sqrt(r))/(1+.015*e),r=o*o+n*n+t*t;return r<0?0:Math.sqrt(r)}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=e("rgb-lab"),l=e("./Util.ts");function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}()?Reflect.construct.bind():function(e,t,n){var r=[null],t=(r.push.apply(r,t),new(Function.bind.apply(e,r)));return n&&o(t,n.prototype),t}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,u=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n;if(e)return"string"==typeof e?f(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t,n){(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function v(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}e=g,(d=[{key:"rgb",get:function(){return[this.r,this.g,this.b]}},{key:"rgba",get:function(){return[this.r,this.g,this.b,this.a]}},{key:"toRgb",value:function(){var e=[this.r,this.g,this.b].map(function(e){return Math.round(e)});return"rgb(".concat(e.join(", "),")")}},{key:"toRgba",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a,e=[e,t,n].map(function(e){return Math.round(e)});return e.push((0,l.round)(r/255,2)),"rgba(".concat(e.join(", "),")")}},{key:"toHex6",value:function(){var e=this.r,t=this.g,n=this.b,r=this.hex;return"#"+r(e)+r(t)+r(n)}},{key:"toHex8",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a,o=this.hex;return"#"+o(e)+o(t)+o(n)+o(r)}},{key:"toHsl",value:function(){var e=c(this.getHsl(),3),t=e[0],n=e[1],e=e[2];return"hsl(".concat(t,", ").concat(n,"%, ").concat(e,"%)")}},{key:"toHsla",value:function(){var e=this.a,t=c(this.getHsl(),3),n=t[0],r=t[1],t=t[2],e=(0,l.round)(e/255,2);return"hsla(".concat(n,", ").concat(r,"%, ").concat(t,"%, ").concat(e,")")}}])&&h(e.prototype,d),p&&h(e,p),Object.defineProperty(e,"prototype",{writable:!1});var d,p,y=g;function g(e,t,n,r){var i=this,o=this,a=g;if(!(o instanceof a))throw new TypeError("Cannot call a class as a function");m(this,"r",0),m(this,"g",0),m(this,"b",0),m(this,"a",0),m(this,"getClosedNamedColor",function(){var e=i.r,t=i.g,n=i.b,r=(0,u.rgb2lab)([e,t,n]),o=101,a="";return g.namedColorsLab.forEach(function(e){var t=(0,u.deltaE)(r,e.value);t<o&&(o=t,a=e.name)}),a}),m(this,"hex",function(e){return("0"+Math.round(e).toString(16)).slice(-2)}),m(this,"getHsl",function(){var e=i.r/255,t=i.g/255,n=i.b/255,r=Math.max(e,t,n),o=Math.min(e,t,n),a=r-o,n=0==a?0:e===r?(t-n)/a%6:t===r?(n-e)/a+2:(e-t)/a+4;return(n=Math.round(60*n))<0&&(n+=360),e=(r+o)/2,t=0==a?0:a/(1-Math.abs(2*e-1)),e=(0,l.round)(100*e,1),[n,(0,l.round)(100*t,1),e]}),1===arguments.length&&"string"==typeof e&&"#"===e[0]?7!==(o=4===(o=e).length?"#"+o[1]+o[1]+o[2]+o[2]+o[3]+o[3]:o).length&&9!==o.length||(this.r=parseInt(o[1]+o[2],16),this.g=parseInt(o[3]+o[4],16),this.b=parseInt(o[5]+o[6],16),9===o.length?this.a=parseInt(o[7]+o[8],16):this.a=255):3!==arguments.length&&4!==arguments.length||(a=null==r?255:r,"number"==typeof e&&"number"==typeof t&&"number"==typeof n&&(this.r=e,this.g=t,this.b=n),this.a=a)}m(n.default=y,"squaredValues",i(Array(256).keys()).map(function(e){return e*e})),m(y,"namedColorsLab",[{name:"aliceblue",value:[97.18,-1.34,-4.27]},{name:"antiquewhite",value:[93.73,1.84,11.52]},{name:"aqua",value:[91.12,-48.08,-14.14]},{name:"aquamarine",value:[92.04,-45.52,9.71]},{name:"azure",value:[98.93,-4.88,-1.7]},{name:"beige",value:[95.95,-4.19,12.04]},{name:"bisque",value:[92.01,4.43,19]},{name:"black",value:[0,0,0]},{name:"blanchedalmond",value:[93.92,2.13,17.02]},{name:"blue",value:[32.3,79.2,-107.86]},{name:"blueviolet",value:[42.19,69.86,-74.77]},{name:"brown",value:[37.52,49.7,30.54]},{name:"burlywood",value:[77.02,7.05,30.01]},{name:"cadetblue",value:[61.15,-19.68,-7.43]},{name:"chartreuse",value:[89.87,-68.07,85.78]},{name:"chocolate",value:[55.99,37.06,56.74]},{name:"coral",value:[67.29,45.36,47.49]},{name:"cornflowerblue",value:[61.93,9.34,-49.31]},{name:"cornsilk",value:[97.46,-2.21,14.28]},{name:"crimson",value:[47.03,70.94,33.59]},{name:"cyan",value:[91.12,-48.08,-14.14]},{name:"darkblue",value:[14.76,50.43,-68.68]},{name:"darkcyan",value:[52.21,-30.62,-9]},{name:"darkgoldenrod",value:[59.22,9.87,62.73]},{name:"darkgray",value:[69.24,0,-.01]},{name:"darkgreen",value:[36.2,-43.37,41.86]},{name:"darkgrey",value:[69.24,0,-.01]},{name:"darkkhaki",value:[73.38,-8.79,39.29]},{name:"darkmagenta",value:[32.6,62.56,-38.74]},{name:"darkolivegreen",value:[42.23,-18.83,30.6]},{name:"darkorange",value:[69.48,36.83,75.49]},{name:"darkorchid",value:[43.38,65.17,-60.11]},{name:"darkred",value:[28.08,51.01,41.29]},{name:"darksalmon",value:[69.85,28.18,27.7]},{name:"darkseagreen",value:[72.09,-23.82,18.03]},{name:"darkslateblue",value:[30.83,26.06,-42.09]},{name:"darkslategray",value:[31.26,-11.72,-3.73]},{name:"darkslategrey",value:[31.26,-11.72,-3.73]},{name:"darkturquoise",value:[75.29,-40.04,-13.52]},{name:"darkviolet",value:[39.58,76.34,-70.38]},{name:"deeppink",value:[55.95,84.56,-5.71]},{name:"deepskyblue",value:[72.55,-17.65,-42.55]},{name:"dimgray",value:[44.41,0,-.01]},{name:"dimgrey",value:[44.41,0,-.01]},{name:"dodgerblue",value:[59.38,9.97,-63.39]},{name:"firebrick",value:[39.11,55.93,37.65]},{name:"floralwhite",value:[98.4,-.03,5.37]},{name:"forestgreen",value:[50.59,-49.59,45.02]},{name:"fuchsia",value:[60.32,98.25,-60.84]},{name:"gainsboro",value:[87.76,0,-.01]},{name:"ghostwhite",value:[97.76,1.25,-3.36]},{name:"gold",value:[86.93,-1.92,87.14]},{name:"goldenrod",value:[70.82,8.52,68.76]},{name:"gray",value:[53.59,0,-.01]},{name:"green",value:[46.23,-51.7,49.9]},{name:"greenyellow",value:[91.96,-52.48,81.87]},{name:"grey",value:[53.59,0,-.01]},{name:"honeydew",value:[98.57,-7.56,5.47]},{name:"hotpink",value:[65.48,64.25,-10.66]},{name:"indianred",value:[53.39,44.84,22.11]},{name:"indigo",value:[20.47,51.69,-53.32]},{name:"ivory",value:[99.64,-2.55,7.15]},{name:"khaki",value:[90.33,-9.01,44.97]},{name:"lavender",value:[91.83,3.71,-9.67]},{name:"lavenderblush",value:[96.07,5.89,-.6]},{name:"lawngreen",value:[88.88,-67.86,84.95]},{name:"lemonchiffon",value:[97.65,-5.42,22.23]},{name:"lightblue",value:[83.81,-10.89,-11.49]},{name:"lightcoral",value:[66.15,42.82,19.55]},{name:"lightcyan",value:[97.87,-9.94,-3.38]},{name:"lightgoldenrodyellow",value:[97.37,-6.48,19.23]},{name:"lightgray",value:[84.56,0,-.01]},{name:"lightgreen",value:[86.55,-46.33,36.94]},{name:"lightgrey",value:[84.56,0,-.01]},{name:"lightpink",value:[81.05,27.97,5.03]},{name:"lightsalmon",value:[74.7,31.48,34.54]},{name:"lightseagreen",value:[65.79,-37.51,-6.34]},{name:"lightskyblue",value:[79.73,-10.82,-28.51]},{name:"lightslategray",value:[55.92,-2.24,-11.11]},{name:"lightslategrey",value:[55.92,-2.24,-11.11]},{name:"lightsteelblue",value:[78.45,-1.28,-15.22]},{name:"lightyellow",value:[99.28,-5.1,14.83]},{name:"lime",value:[87.74,-86.18,83.18]},{name:"limegreen",value:[72.61,-67.13,61.44]},{name:"linen",value:[95.31,1.68,6.01]},{name:"magenta",value:[60.32,98.25,-60.84]},{name:"maroon",value:[25.53,48.06,38.06]},{name:"mediumaquamarine",value:[75.69,-38.33,8.3]},{name:"mediumblue",value:[24.98,67.18,-91.5]},{name:"mediumorchid",value:[53.64,59.07,-47.41]},{name:"mediumpurple",value:[54.98,36.81,-50.1]},{name:"mediumseagreen",value:[65.27,-48.22,24.29]},{name:"mediumslateblue",value:[52.16,41.08,-65.41]},{name:"mediumspringgreen",value:[87.34,-70.68,32.46]},{name:"mediumturquoise",value:[76.88,-37.35,-8.36]},{name:"mediumvioletred",value:[44.76,71.01,-15.18]},{name:"midnightblue",value:[15.86,31.72,-49.58]},{name:"mintcream",value:[99.16,-4.16,1.24]},{name:"mistyrose",value:[92.66,8.75,4.83]},{name:"moccasin",value:[91.72,2.44,26.35]},{name:"navajowhite",value:[90.1,4.51,28.26]},{name:"navy",value:[12.98,47.51,-64.7]},{name:"oldlace",value:[96.78,.18,8.16]},{name:"olive",value:[51.87,-12.93,56.68]},{name:"olivedrab",value:[54.65,-28.22,49.69]},{name:"orange",value:[74.93,23.94,78.96]},{name:"orangered",value:[57.57,67.8,68.97]},{name:"orchid",value:[62.8,55.29,-34.42]},{name:"palegoldenrod",value:[91.14,-7.35,30.96]},{name:"palegreen",value:[90.75,-48.3,38.52]},{name:"paleturquoise",value:[90.06,-19.63,-6.41]},{name:"palevioletred",value:[60.56,45.53,.39]},{name:"papayawhip",value:[95.08,1.27,14.52]},{name:"peachpuff",value:[89.35,8.09,21.01]},{name:"peru",value:[61.75,21.4,47.92]},{name:"pink",value:[83.58,24.15,3.32]},{name:"plum",value:[73.37,32.54,-22]},{name:"powderblue",value:[86.13,-14.09,-8.02]},{name:"purple",value:[29.78,58.94,-36.5]},{name:"red",value:[53.23,80.11,67.22]},{name:"rosybrown",value:[63.61,17.02,6.6]},{name:"royalblue",value:[47.83,26.27,-65.27]},{name:"saddlebrown",value:[37.47,26.45,40.99]},{name:"salmon",value:[67.26,45.23,29.09]},{name:"sandybrown",value:[73.95,23.03,46.79]},{name:"seagreen",value:[51.54,-39.71,20.05]},{name:"seashell",value:[97.12,2.17,4.54]},{name:"sienna",value:[43.8,29.33,35.64]},{name:"silver",value:[77.7,0,-.01]},{name:"skyblue",value:[79.21,-14.83,-21.28]},{name:"slateblue",value:[45.34,36.05,-57.78]},{name:"slategray",value:[52.84,-2.14,-10.58]},{name:"slategrey",value:[52.84,-2.14,-10.58]},{name:"snow",value:[98.64,1.66,.58]},{name:"springgreen",value:[88.47,-76.9,47.03]},{name:"steelblue",value:[52.47,-4.07,-32.2]},{name:"tan",value:[74.97,5.02,24.42]},{name:"teal",value:[48.26,-28.84,-8.48]},{name:"thistle",value:[80.08,13.22,-9.24]},{name:"tomato",value:[62.2,57.86,46.42]},{name:"turquoise",value:[81.27,-44.08,-4.03]},{name:"violet",value:[69.69,56.37,-36.82]},{name:"wheat",value:[89.35,1.51,24]},{name:"white",value:[100,.01,-.01]},{name:"whitesmoke",value:[96.54,.01,-.01]},{name:"yellow",value:[97.14,-21.56,94.48]},{name:"yellowgreen",value:[76.54,-37.99,66.59]}]),m(y,"getMeanMedian",function(e,t){var n=t.averagingMethod,r=e.length,o=new y,a=new y;if(0!==r)for(var i=["r","g","b","a"],u=0;u<i.length;u++){for(var l=i[u],c=[],s=0;s<e.length;s++)c.push(e[s][l]);var f=c.sort();if("squared"===n){for(var h=0,m=0;m<c.length;m++)h+=y.squaredValues[c[m]];var v=Math.sqrt(h/r);o[l]=v}if("simple"===n){for(var d=0,p=0;p<c.length;p++)d+=c[p];o[l]=d/r}v=Math.floor(f.length/2);a[l]=f[v]}return[o,a]}),m(y,"getLightestDarkest",function(e){var t,n,r,o;return 0===e.length?[new y,new y]:(t=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},n=e.map(function(e){e=.2126*t(e.r/255)+.7152*t(e.g/255)+.0722*t(e.b/255);return e<=216/24389?24389/27*e:116*Math.pow(e,1/3)-16}),o=Math.max.apply(Math,i(n)),r=Math.min.apply(Math,i(n)),o=n.indexOf(o),n=n.indexOf(r),r=e[o],o=e[n],[new y(r.r,r.g,r.b,r.a),new y(o.r,o.g,o.b,o.a)])}),m(y,"blendColors",function(t,n){var r=n.a/255,o=1-r,e=["r","g","b"].map(function(e){return t[e]*o+n[e]*r});return a(y,i(e))})},{"./Util.ts":7,"rgb-lab":1}],3:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n),t=(e=r?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var m=s(function e(){return h(this,e),new Proxy(this,{get:function(e,t){var n=e.fieldHashmap[t.toString()];return n?n.value:e[t]}})}),v=function(){var e=r,t=m;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t);var n=i(r);function r(e,t){var i;return h(this,r),c(u(i=n.call(this)),"onBeforeChange",function(e,t){var n,r=u(i),o=r.fieldHashmap,a=r.fieldToBeforeChangeCallback,r=r.callback,o=o[e];o&&(n=a[e],r&&o.removeEventListener("change",r),n&&o.removeEventListener("change",n),o.addEventListener("change",t),r&&o.addEventListener("change",r),a[e]=t)}),c(u(i),"triggerAllBeforeChangeCallbacks",function(){var e=u(i),t=e.fieldArray,n=e.fieldToBeforeChangeCallback;t.forEach(function(e){e=n[e.name];e&&e()})}),c(u(i),"save",function(){var e=u(i).fieldArray.reduce(function(e,t){return"file"!==t.type&&(e[t.name]=t.value),e},{});localStorage.setItem("options",JSON.stringify(e))}),c(u(i),"restore",function(){var e=u(i).fieldArray,t=localStorage.getItem("options");if(t)try{var n=JSON.parse(t);e.forEach(function(e){n[e.name]&&(e.value=n[e.name])})}catch(e){localStorage.removeItem("options")}}),i.fieldArray=e,i.fieldHashmap={},i.fieldToBeforeChangeCallback={},e.forEach(function(e){i.fieldHashmap[e.name]=e}),t&&(i.onChange=t),i.restore(),i}return s(r,[{key:"onChange",set:function(t){var e=this.fieldArray,n=this.callback;e.forEach(function(e){n&&e.removeEventListener("change",n),e.addEventListener("change",t)}),this.callback=t}}]),r}();n.default=v},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var v=e("./Util.ts");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){O=function(){return i};var i={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(i){a=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,u,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),r=new x(r||[]);return c(t,"_invoke",{value:(o=e,a=n,i=r,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=s(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===u)throw u="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u="executing";n=s(o,a,i);if("normal"===n.type){if(u=i.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(u="completed",i.method="throw",i.arg=n.arg)}})}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=u;var f={};function h(){}function m(){}function v(){}var t={},d=(a(t,r,function(){return this}),Object.getPrototypeOf),d=d&&d(d(k([]))),p=(d&&d!==e&&l.call(d,r)&&(t=d),v.prototype=h.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function g(i,u){var t;c(this,"_invoke",{value:function(n,r){function e(){return new u(function(e,t){!function t(e,n,r,o){var a,e=s(i[e],i,n);return"throw"!==e.type?(n=(a=e.arg).value)&&"object"==S(n)&&l.call(n,"__await")?u.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):u.resolve(n).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)}):void o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(p,"constructor",{value:m.prototype=v,configurable:!0}),c(v,"constructor",{value:m,configurable:!0}),m.displayName=a(v,o,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,a(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e},i.awrap=function(e){return{__await:e}},y(g.prototype),a(g.prototype,n,function(){return this}),i.AsyncIterator=g,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new g(u(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},y(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},i}function l(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){return n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function a(e,t,n){(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function o(e){e=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===S(e)?e:String(e)}e=function e(t,n){var u,o,m=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a(this,"handleReadUpload",function(){var t=m.uploader,n=m.image;m.loadingToast=(0,v.toast)("Loading selected image...",!0),requestAnimationFrame(function(){var e=new FileReader;if(e.addEventListener("load",function(e){if(!e.target||!e.target.result)throw"Failed to read uploaded file.";n.src=e.target.result.toString()}),!t.files)throw"Asked to read image file but found no file was uploaded.";e.readAsDataURL(t.files[0])})}),a(this,"_handleUpdateImage",function(){function e(u){o&&(o(),delete m.loadingToast),m.colors=new Promise(function(i){requestAnimationFrame(function(){requestAnimationFrame(function(){for(var e=[],t=0;t<u.length;t+=4){var n=u[t+0],r=u[t+1],o=u[t+2],a=u[t+3];e.push({r:n,g:r,b:o,a:a})}i(e)})})})}var t=m.preview,n=m.context,r=m.image,o=m.loadingToast,a=m.opacity,i=m.backgroundColor,u=(u=r.width)||300,l=(l=r.height)||200,r=(t.width=u,t.height=l,n.clearRect(0,0,u,l),n.drawImage(r,0,0),n.getImageData(0,0,u,l)),c=r.data;if(null==a&&null==i)return e(c),!0;if(null!=a){for(var s=0;s<c.length;s+=4){var f=c[s+3]*a,f=(0,v.clamp)(f,0,255);c[s+3]=f}if(n.putImageData(r,0,0),!i)return e(c),!0}if(null!=i){var r=new OffscreenCanvas(u,l),h=r.getContext("2d");if(!h)throw"Failed to get 2D context of offscreen canvas.";h.fillStyle=i.toRgba(),h.fillRect(0,0,u,l),h.drawImage(t,0,0),n.drawImage(r,0,0),e(n.getImageData(0,0,u,l).data)}}),a(this,"handleUpdateImage",(0,v.debounce)(this._handleUpdateImage)),a(this,"loadExampleImage",function(){m.loadingToast=(0,v.toast)("Loading example image...",!0),requestAnimationFrame(function(){m.image.src="./example.png"})}),a(this,"getColorsAt",(u=O().mark(function e(t,n,r,o){var a,i,u,l,c,s;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.preview,e.next=3,m.colors;case 3:i=e.sent,u=[],l=n;case 6:if(!(l<n+o)){e.next=19;break}c=t;case 8:if(c<t+r){if((s=l*a.width+c)<0||s>i.length)return e.abrupt("continue",13);e.next=12}else e.next=16;break;case 12:u.push(i[s]);case 13:c++,e.next=8;break;case 16:l++,e.next=6;break;case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}},e)}),o=function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){l(r,t,n,o,a,"next",e)}function a(e){l(r,t,n,o,a,"throw",e)}o(void 0)})},function(e,t,n,r){return o.apply(this,arguments)})),a(this,"setBackgroundColor",function(e){0===e.a?delete m.backgroundColor:m.backgroundColor=e,m.handleUpdateImage()}),a(this,"setOpacity",function(e){1===e?delete m.opacity:m.opacity=e,m.handleUpdateImage()});var r=new Image,n=(r.addEventListener("load",this.handleUpdateImage),n.addEventListener("change",this.handleReadUpload),this.preview=t,this.uploader=n,t.getContext("2d"));if(!n)throw"Failed to get 2D context from canvas element.";this.context=n,this.image=r,this.colors=[]},u&&r(e.prototype,u),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1});var i,u=e;n.default=u},{"./Util.ts":7}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("./Util.ts");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function u(e,t,n){(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function i(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}e=function e(t){var i=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");u(this,"setBackgroundColor",function(e){var t=i.resultElementArray,n=e.toRgba();t.forEach(function(e){e.backgroundElement.style.backgroundColor=n})}),u(this,"setResult",function(e,t,n){var r=i.resultElementHashmap,o=n.resultFormat,n=n.hideAlphaChannel,a=!1,n=("always"===n?a=!1:"never"!==n&&255===t.a||(a=!0),"");if("rgb"===o&&(n=a?t.toRgba():t.toRgb()),"hex"===o&&(n=a?t.toHex8():t.toHex6()),"hsl"===o&&(n=a?t.toHsla():t.toHsl()),!(n="svg"===o?t.getClosedNamedColor():n))throw"Invalid resultFormat option: ".concat(o.toString());r[e].textElement.value=n}),this.resultElementArray=[],this.resultElementHashmap={},t.forEach(function(e){var t=e.querySelector("input"),r=e.querySelector(".foreground"),n=e.querySelector(".background"),e=e.querySelector(".copy"),e=(e&&e.addEventListener("click",function(e){e.preventDefault(),navigator.clipboard.writeText(t.value),(0,a.toast)("Copied ".concat(t.value))}),new Proxy(t,{set:function(e,t,n){return"value"===t&&(r.style.backgroundColor=n),e[t]=n,!0}})),o=t.name.split("ResultText")[0],e={textElement:e,foregroundElement:r,backgroundElement:n};i.resultElementHashmap[o]=e,i.resultElementArray.push(e)})},c&&o(e.prototype,c),l&&o(e,l),Object.defineProperty(e,"prototype",{writable:!1});var l,c=e;n.default=c},{"./Util.ts":7}],6:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function i(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;u=s,(c=[{key:"onSelectionEnd",set:function(e){this.callback=e}}])&&o(u.prototype,c),l&&o(u,l),Object.defineProperty(u,"prototype",{writable:!1});var u,l,c=s;function s(e,t,n){var c=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");a(this,"isInProgress",!1),a(this,"startPosition",{x:0,y:0}),a(this,"endPosition",{x:0,y:0}),a(this,"handleTouch",function(e){var t,n,r,o,a=e.targetTouches,i=e.changedTouches,u=e.type;2===a.length&&(e.preventDefault(),e=c.target,t=c.updateInfo,n=c.updateOutline,r=c.callback,u="touchend"===u?i:a,i=e.getBoundingClientRect(),a=Math.round(u[0].clientX-i.left),e=Math.round(u[0].clientY-i.top),o=Math.round(u[1].clientX-i.left),u=Math.round(u[1].clientY-i.top),c.startPosition={x:a,y:e},c.endPosition={x:o,y:u},t(),n(),r)&&r()}),a(this,"handleSelect",function(e){var t=e.type,n=e.button,r=e.clientX,e=e.clientY,o=c.target,a=c.isInProgress,i=c.updateInfo,u=c.updateOutline,l=c.callback;null!==n&&0!==n||(n=o.getBoundingClientRect(),o=Math.round(r-n.left),r=Math.round(e-n.top),"mousedown"===t?(c.startPosition={x:o,y:r},c.isInProgress=!0):a&&("mousemove"!==t&&"mouseup"!==t&&"mouseleave"!==t||(c.endPosition={x:o,y:r},i(),u(),l&&l()),"mouseup"!==t&&"mouseleave"!==t||(c.isInProgress=!1)))}),a(this,"updateInfo",function(){var e=c.startPosition,t=c.endPosition,n=c.target,r=Math.max(Math.min(e.y,t.y),0),o=Math.max(Math.min(e.x,t.x),0),a=Math.min(Math.max(e.y,t.y),n.height),e=Math.min(Math.max(e.x,t.x),n.width),t=Math.max(e-o,1),n=Math.max(a-r,1);c.info={top:r,left:o,bottom:a,right:e,width:t,height:n}}),a(this,"updateOutline",function(){var e,t,n,r=c.outline,o=c.info;o&&(n=o.top,e=o.left,t=o.width,o=o.height,n="top:".concat(n,"px; left:").concat(e,"px; width:").concat(t,"px; height:").concat(o,"px;"),r.style.cssText=n)}),a(this,"clear",function(){c.outline.style.cssText="",delete c.info}),t.onmousedown=this.handleSelect,t.onmouseup=this.handleSelect,t.onmousemove=this.handleSelect,t.onmouseleave=this.handleSelect,t.ontouchstart=this.handleTouch,t.ontouchend=this.handleTouch,t.ontouchmove=this.handleTouch,this.outline=e,this.target=t,n&&(this.onSelectionEnd=n)}n.default=c},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.toast=n.round=n.debounce=n.clamp=void 0,n.debounce=function(r){var o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(o),o=window.setTimeout(function(){return r.apply(void 0,t)},a)}},n.round=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return+(Math.round(+(e+"e+".concat(t)))+"e-".concat(t))},n.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)};n.toast=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div"),r=(n.textContent=e,n.className="toast ".concat(t?"":"fade-out"),n.setAttribute("role","status"),document.querySelector(".toast-container"));if(r){if(r.appendChild(n),t)return function(){requestAnimationFrame(function(){return r.removeChild(n)})};setTimeout(function(){r.removeChild(n)},1500)}}},{}],8:[function(e,t,n){"use strict";function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=r(e("./classes/Color.ts")),d=r(e("./classes/Options.ts")),p=r(e("./classes/Preview.ts")),y=r(e("./classes/Selection.ts")),g=r(e("./classes/Results.ts")),b=e("./classes/Util.ts");function r(e){return e&&e.__esModule?e:{default:e}}function O(){O=function(){return i};var i={},e=Object.prototype,l=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(i){a=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,u,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),r=new x(r||[]);return c(t,"_invoke",{value:(o=e,a=n,i=r,u="suspendedStart",function(e,t){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===e)throw t;return E()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=s(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===u)throw u="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u="executing";n=s(o,a,i);if("normal"===n.type){if(u=i.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(u="completed",i.method="throw",i.arg=n.arg)}})}),t}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=u;var f={};function h(){}function m(){}function v(){}var t={},d=(a(t,r,function(){return this}),Object.getPrototypeOf),d=d&&d(d(k([]))),p=(d&&d!==e&&l.call(d,r)&&(t=d),v.prototype=h.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function g(i,u){var t;c(this,"_invoke",{value:function(n,r){function e(){return new u(function(e,t){!function t(e,n,r,o){var a,e=s(i[e],i,n);return"throw"!==e.type?(n=(a=e.arg).value)&&"object"==S(n)&&l.call(n,"__await")?u.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):u.resolve(n).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)}):void o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:E}}function E(){return{value:void 0,done:!0}}return c(p,"constructor",{value:m.prototype=v,configurable:!0}),c(v,"constructor",{value:m,configurable:!0}),m.displayName=a(v,o,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,a(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e},i.awrap=function(e){return{__await:e}},y(g.prototype),a(g.prototype,n,function(){return this}),i.AsyncIterator=g,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new g(u(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},y(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},i}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,u=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){{var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){return n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function a(){function e(e){return Array.from(document.querySelectorAll(e))}function t(){var e=c.transparencyType,t=null;if("straight"===e&&(t=new v.default(0,0,0,0)),!(t="premultiplied"===e?new v.default(c.backgroundColor):t))throw"Invalid transparency type option: ".concat(e.toString());s.setBackgroundColor(t),f.setBackgroundColor(t),m()}var u,n=e(".options")[0],r=e(".results")[0],r=(n.reset(),r.reset(),n.addEventListener("submit",function(e){e.preventDefault(),m()}),e(".options :is(input, select)")),o=e(".results .field"),a=e(".preview")[0],i=e("input[name=imageUpload]")[0],l=e(".selector")[0],c=new d.default(r),s=new p.default(a,i),f=new g.default(o),h=new y.default(l,a),m=(0,b.debounce)((u=O().mark(function e(){var t,n,r,o,a,i,u;return O().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.info){e.next=2;break}return e.abrupt("return");case 2:return o=h.info,n=o.top,t=o.left,r=o.width,o=o.height,e.next=5,s.getColorsAt(t,n,r,o);case 5:t=e.sent,n=v.default.getMeanMedian(t,c),r=w(n,2),o=r[0],a=r[1],u=v.default.getLightestDarkest(t),u=w(u,2),i=u[0],u=u[1],f.setResult("mean",o,c),f.setResult("median",a,c),f.setResult("lightest",i,c),f.setResult("darkest",u,c);case 12:case"end":return e.stop()}},e)}),function(){var e=this,i=arguments;return new Promise(function(t,n){var r=u.apply(e,i);function o(e){x(r,t,n,o,a,"next",e)}function a(e){x(r,t,n,o,a,"throw",e)}o(void 0)})})),r=(i.addEventListener("change",h.clear),e("#example-image-button")[0]),o=e("button[type=reset]")[0],l=e("button[name=save")[0];r.addEventListener("click",function(e){e.preventDefault(),h.clear(),s.loadExampleImage()}),o.addEventListener("click",function(e){e.preventDefault(),n.reset(),c.triggerAllBeforeChangeCallbacks(),m(),(0,b.toast)("Options reset!")}),l.addEventListener("click",function(e){e.preventDefault(),c.save(),(0,b.toast)("Options saved!")}),c.onBeforeChange("opacityPercentage",function(){var e=c.opacityPercentage;s.setOpacity(e/100)});c.onBeforeChange("backgroundColor",t),c.onBeforeChange("transparencyType",t),c.triggerAllBeforeChangeCallbacks(),h.onSelectionEnd=m,c.onChange=m}window.onload=function(){return requestAnimationFrame(a)}},{"./classes/Color.ts":2,"./classes/Options.ts":3,"./classes/Preview.ts":4,"./classes/Results.ts":5,"./classes/Selection.ts":6,"./classes/Util.ts":7}]},{},[8]);
//# sourceMappingURL=bundle.js.map
